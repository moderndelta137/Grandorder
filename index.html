<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>聖杯戦争ADV RPG</title>
    <link rel="stylesheet" href="styles/main.css" />
  </head>
  <body>
    <div class="app-bg"></div>
    <main class="app" aria-live="polite">
      <header class="app-header">
        <h1>聖杯戦争ADV RPG</h1>
        <p class="subtitle">Sprint 1〜4 実装版（召喚 / 夜戦 / 救済 / エンディング）</p>
      </header>

      <section class="layout">
        <aside class="status-panel card">
          <h2>状態</h2>
          <dl>
            <div><dt>日数</dt><dd id="status-day">-</dd></div>
            <div><dt>フェーズ</dt><dd id="status-phase">-</dd></div>
            <div><dt>マスターHP</dt><dd id="status-master-hp">-</dd></div>
            <div><dt>マスター魔力</dt><dd id="status-master-mana">-</dd></div>
            <div><dt>主人公ビルド</dt><dd id="status-master-build">-</dd></div>
            <div><dt>令呪残数</dt><dd id="status-command-spells">-</dd></div>
            <div><dt>触媒</dt><dd id="status-catalyst">-</dd></div>
            <div><dt>サーヴァントクラス</dt><dd id="status-servant-class">-</dd></div>
            <div><dt>パラメータ</dt><dd id="status-servant-params">-</dd></div>
            <div><dt>真名秘匿</dt><dd id="status-true-name">-</dd></div>
            <div><dt>看破進行</dt><dd id="status-exposure">-</dd></div>
            <div><dt>残存敵陣営</dt><dd id="status-enemies">-</dd></div>
            <div><dt>救済導線</dt><dd id="status-rescue">-</dd></div>
            <div><dt>結末判定</dt><dd id="status-ending">-</dd></div>
          </dl>
          <button id="open-servant-sheet" type="button">サーヴァント詳細</button>
          <button id="restart-button" class="secondary" type="button">最初から</button>
        </aside>

        <section class="story card">
          <div class="scene-meta">
            <span id="scene-phase" class="badge">-</span>
            <span id="scene-title" class="scene-title">-</span>
          </div>
          <article id="scene-text" class="scene-text"></article>
          <div id="choices" class="choices"></div>
        </section>

        <aside class="log-panel card">
          <h2>進行ログ</h2>
          <ul id="battle-log"></ul>
        </aside>
      </section>
    </main>


    <section id="servant-sheet" class="servant-sheet" aria-hidden="true">
      <div class="sheet-overlay" data-close-sheet="true"></div>
      <article class="sheet-card" role="dialog" aria-modal="true" aria-labelledby="sheet-title">
        <header class="sheet-header">
          <h2 id="sheet-title">Status Menu</h2>
          <button id="close-servant-sheet" class="sheet-close" type="button">閉じる</button>
        </header>
        <div class="sheet-layout">
          <nav class="sheet-nav" aria-label="サーヴァント情報メニュー">
            <button class="sheet-tab active" data-tab="overview" type="button">能力</button>
            <button class="sheet-tab" data-tab="skills" type="button">スキル</button>
            <button class="sheet-tab" data-tab="np" type="button">宝具</button>
          </nav>

          <section class="sheet-main">
            <div class="sheet-classline">
              <span>CLASS</span>
              <strong id="sheet-class">-</strong>
            </div>

            <dl class="sheet-identity">
              <div><dt>マスター</dt><dd id="sheet-master">-</dd></div>
              <div><dt>真名</dt><dd id="sheet-true-name">-</dd></div>
              <div><dt>属性</dt><dd id="sheet-alignment">-</dd></div>
            </dl>

            <div id="sheet-tab-overview" class="sheet-tab-panel active">
              <h3>ステータス</h3>
              <div id="sheet-stats" class="sheet-stats"></div>
              <h3>クラス別能力</h3>
              <ul id="sheet-class-abilities" class="sheet-list"></ul>
            </div>

            <div id="sheet-tab-skills" class="sheet-tab-panel">
              <h3>固有スキル</h3>
              <ul id="sheet-skills" class="sheet-list"></ul>
            </div>

            <div id="sheet-tab-np" class="sheet-tab-panel">
              <h3>宝具</h3>
              <article class="sheet-np">
                <h4 id="sheet-np-name">-</h4>
                <p id="sheet-np-rank">-</p>
                <p id="sheet-np-desc">-</p>
              </article>
            </div>
          </section>
        </div>
      </article>
    </section>

    <script type="module" src="src/game.js"></script>
  </body>
</html>
